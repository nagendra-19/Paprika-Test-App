<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <script type="module">
        import {JobApp} from "/js/jobApp.js";

        const url = new URL(document.location.href);

        if(url.searchParams.has('id')){
            JobApp.loadJob(url.searchParams.get('id'));
        } else {
            JobApp.clearJob();
        }

     window.saveJob=()=>{
        if(url.searchParams.has('id')){
            JobApp.newOrUpdateJob(url.searchParams.get('id'));
        } else {
            JobApp.newOrUpdateJob(null);
        }
    }

    window.clearJob = () => {
        JobApp.clearJob();
    }
    </script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/job.css"/>
    <script src="./js/moment.min.js" type="text/javascript"></script>
    <title>Rest App</title>
</head>
<body>
<section class="vertical-form">
    <fieldset>
        <label>JO_JOB_KEY</label>
        <input type="text" data-ref="JO_JOB_KEY"/>
    </fieldset>
    <fieldset>
        <label>JO_JOB_TITLE</label>
        <input type="text" data-ref="JO_JOB_TITLE" required/>
    </fieldset>
    <fieldset>
        <label>JO_SA_MN</label>
        <select data-ref="JO_SA_MN" required>
            <option value="" label="--"></option>
        </select>
    </fieldset>
    <fieldset>
        <label>JO_FEE_TYPE</label>
        <select data-ref="JO_FEE_TYPE" required>
            <option value="" label="--"></option>
        </select>
    </fieldset>
    <fieldset>
        <label>JO_BU_MN</label>
        <select data-ref="JO_BU_MN" required>
            <option value="" label="--"></option>
        </select>
    </fieldset>
    <fieldset>
        <label>JO_STATUS</label>
        <select data-ref="JO_STATUS" required>
            <option value="" label="--"></option>
        </select>
    </fieldset>
    <fieldset>
        <label>JO_ACTIVE</label>
        <div>
            <input type="checkbox" data-ref="JO_ACTIVE"/>
        </div>
    </fieldset>
    <fieldset>
        <label>JO_TEXT_1</label>
        <input type="text" data-ref="JO_TEXT_1"/>
    </fieldset>
    <fieldset>
        <label>JO_TEXT_2</label>
        <input type="text" data-ref="JO_TEXT_2"/>
    </fieldset>
    <fieldset>
        <label>JO_TEXT_3</label>
        <input type="text" data-ref="JO_TEXT_3"/>
    </fieldset>
    <fieldset>
        <label>JO_TEXT_4</label>
        <input type="text" data-ref="JO_TEXT_4"/>
    </fieldset>
    <fieldset>
        <label>JO_NUMBER_1</label>
        <input type="number" data-ref="JO_NUMBER_1"/>
    </fieldset>
    <fieldset>
        <label>JO_NUMBER_2</label>
        <input type="number" data-ref="JO_NUMBER_2"/>
    </fieldset>
    <fieldset>
        <label>JO_NUMBER_3</label>
        <input type="number" data-ref="JO_NUMBER_3"/>
    </fieldset>
    <fieldset>
        <label>JO_NUMBER_4</label>
        <input type="number" data-ref="JO_NUMBER_4"/>
    </fieldset>
    <fieldset>
        <label>JO_DATE_1</label>
        <input type="date" data-ref="JO_DATE_1"/>
    </fieldset>
    <fieldset>
        <label>JO_DATE_2</label>
        <input type="date" data-ref="JO_DATE_2"/>
    </fieldset>
    <fieldset>
        <label>JO_DATE_3</label>
        <input type="date" data-ref="JO_DATE_3"/>
    </fieldset>
    <fieldset>
        <label>JO_DATE_4</label>
        <input type="date" data-ref="JO_DATE_4"/>
    </fieldset>
    <fieldset>
        <label>JO_PROBABILITY</label>
        <input type="number" data-ref="JO_PROBABILITY"/>
    </fieldset>
    <fieldset>
        <label></label>
        <div>
            <button onclick="saveJob()">Save</button>
            <button onclick="clearJob()">Revert</button>
        </div>
    </fieldset>
</section>
</body>
</html>
